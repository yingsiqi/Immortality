{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap ecce5ec67b27374cd162","webpack:///./src/index.js","webpack:///external \"mermaid\""],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","_mermaid","_mermaid2","obj","default","mermaidChart","code","parse","_ref","str","hash","MermaidPlugin","md","mermaid","loadPreferences","preferenceStore","mermaidTheme","undefined","ganttAxisFormat","initialize","theme","gantt","axisFormatter","getDay","mermaid-theme","gantt-axis-format","temp","renderer","rules","fence","bind","tokens","idx","options","env","slf","token","content","trim","info","firstLine","split","match","require"],"mappings":"AAAAA,OAAOC,QACE,SAAUC,GCGnB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAH,OAGA,IAAAD,GAAAK,EAAAD,IACAE,EAAAF,EACAG,GAAA,EACAN,WAUA,OANAC,GAAAE,GAAAI,KAAAR,EAAAC,QAAAD,IAAAC,QAAAE,GAGAH,EAAAO,GAAA,EAGAP,EAAAC,QAvBA,GAAAI,KA4DA,OAhCAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,SAAAV,EAAAW,EAAAC,GACAV,EAAAW,EAAAb,EAAAW,IACAG,OAAAC,eAAAf,EAAAW,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAV,EAAAiB,EAAA,SAAApB,GACA,GAAAa,GAAAb,KAAAqB,WACA,WAA2B,MAAArB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAG,GAAAQ,EAAAE,EAAA,IAAAA,GACAA,GAIAV,EAAAW,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDpB,EAAAuB,EAAA,GAGAvB,IAAAwB,EAAA,KDOM,SAAU3B,EAAQC,EAASE,GAEjC,YAGAY,QAAOC,eAAef,EAAS,cAC7B2B,OAAO,GE1ET,IAAAC,GAAA1B,EAAA,GF+EI2B,EAEJ,SAAgCC,GAAO,MAAOA,IAAOA,EAAIV,WAAaU,GAAQC,QAASD,IAFhDF,GE7EjCI,EAAe,SAACC,GACpB,IAEE,MADAJ,GAAAE,QAAQG,MAAMD,GACd,wBAA+BA,EAA/B,SACA,MAAAE,GAAsB,GAAbC,GAAaD,EAAbC,GAAaD,GAARE,IACd,eAAeD,EAAf,WAIEE,EAAgB,SAACC,GACrBA,EAAGC,QAAHX,EAAAE,QACAF,EAAAE,QAAQU,gBAAkB,SAACC,GACzB,GAAIC,GAAeD,EAAgBxB,IAAI,qBAClB0B,KAAjBD,IACFA,EAAe,UAEjB,IAAIE,GAAkBH,EAAgBxB,IAAI,oBAY1C,YAXwB0B,KAApBC,IACFA,EAAkB,YAEpBhB,EAAAE,QAAQe,YACNC,MAAOJ,EACPK,OAASC,gBACNJ,EAAiB,SAACnC,GACjB,MAAsB,KAAfA,EAAEwC,gBAKbC,gBAAiBR,EACjBS,oBAAqBP,GAIzB,IAAMQ,GAAOd,EAAGe,SAASC,MAAMC,MAAMC,KAAKlB,EAAGe,SAASC,MACtDhB,GAAGe,SAASC,MAAMC,MAAQ,SAACE,EAAQC,EAAKC,EAASC,EAAKC,GACpD,GAAMC,GAAQL,EAAOC,GACf1B,EAAO8B,EAAMC,QAAQC,MAC3B,IAAmB,YAAfF,EAAMG,KACR,MAAOlC,GAAaC,EAEtB,IAAMkC,GAAYlC,EAAKmC,MAAM,MAAM,GAAGH,MACtC,OAAkB,UAAdE,GAAuC,oBAAdA,GAAmCA,EAAUE,MAAM,gCACvErC,EAAaC,GAEfoB,EAAKK,EAAQC,EAAKC,EAASC,EAAKC,IFsF3C9D,GAAQ+B,QElFOO,GFsFT,SAAUvC,EAAQC,GGzIxBD,EAAAC,QAAAsE,QAAA","file":"index.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mermaid = __webpack_require__(1);\n\nvar _mermaid2 = _interopRequireDefault(_mermaid);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mermaidChart = function mermaidChart(code) {\n  try {\n    _mermaid2.default.parse(code);\n    return '<div class=\"mermaid\">' + code + '</div>';\n  } catch (_ref) {\n    var str = _ref.str;\n    var hash = _ref.hash;\n\n    return '<pre>' + str + '</pre>';\n  }\n};\n\nvar MermaidPlugin = function MermaidPlugin(md) {\n  md.mermaid = _mermaid2.default;\n  _mermaid2.default.loadPreferences = function (preferenceStore) {\n    var mermaidTheme = preferenceStore.get('mermaid-theme');\n    if (mermaidTheme === undefined) {\n      mermaidTheme = 'default';\n    }\n    var ganttAxisFormat = preferenceStore.get('gantt-axis-format');\n    if (ganttAxisFormat === undefined) {\n      ganttAxisFormat = '%Y-%m-%d';\n    }\n    _mermaid2.default.initialize({\n      theme: mermaidTheme,\n      gantt: { axisFormatter: [[ganttAxisFormat, function (d) {\n          return d.getDay() === 1;\n        }]] }\n    });\n    return {\n      'mermaid-theme': mermaidTheme,\n      'gantt-axis-format': ganttAxisFormat\n    };\n  };\n\n  var temp = md.renderer.rules.fence.bind(md.renderer.rules);\n  md.renderer.rules.fence = function (tokens, idx, options, env, slf) {\n    var token = tokens[idx];\n    var code = token.content.trim();\n    if (token.info === 'mermaid') {\n      return mermaidChart(code);\n    }\n    var firstLine = code.split(/\\n/)[0].trim();\n    if (firstLine === 'gantt' || firstLine === 'sequenceDiagram' || firstLine.match(/^graph (?:TB|BT|RL|LR|TD);?$/)) {\n      return mermaidChart(code);\n    }\n    return temp(tokens, idx, options, env, slf);\n  };\n};\n\nexports.default = MermaidPlugin;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"mermaid\");\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ecce5ec67b27374cd162","import mermaid from 'mermaid'\n\nconst mermaidChart = (code) => {\n  try {\n    mermaid.parse(code)\n    return `<div class=\"mermaid\">${code}</div>`\n  } catch ({ str, hash }) {\n    return `<pre>${str}</pre>`\n  }\n}\n\nconst MermaidPlugin = (md) => {\n  md.mermaid = mermaid\n  mermaid.loadPreferences = (preferenceStore) => {\n    let mermaidTheme = preferenceStore.get('mermaid-theme')\n    if (mermaidTheme === undefined) {\n      mermaidTheme = 'default'\n    }\n    let ganttAxisFormat = preferenceStore.get('gantt-axis-format')\n    if (ganttAxisFormat === undefined) {\n      ganttAxisFormat = '%Y-%m-%d'\n    }\n    mermaid.initialize({\n      theme: mermaidTheme,\n      gantt: { axisFormatter: [\n        [ganttAxisFormat, (d) => {\n          return d.getDay() === 1\n        }]\n      ]}\n    })\n    return {\n      'mermaid-theme': mermaidTheme,\n      'gantt-axis-format': ganttAxisFormat\n    }\n  }\n\n  const temp = md.renderer.rules.fence.bind(md.renderer.rules)\n  md.renderer.rules.fence = (tokens, idx, options, env, slf) => {\n    const token = tokens[idx]\n    const code = token.content.trim()\n    if (token.info === 'mermaid') {\n      return mermaidChart(code)\n    }\n    const firstLine = code.split(/\\n/)[0].trim()\n    if (firstLine === 'gantt' || firstLine === 'sequenceDiagram' || firstLine.match(/^graph (?:TB|BT|RL|LR|TD);?$/)) {\n      return mermaidChart(code)\n    }\n    return temp(tokens, idx, options, env, slf)\n  }\n}\n\nexport default MermaidPlugin\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"mermaid\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mermaid\"\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}